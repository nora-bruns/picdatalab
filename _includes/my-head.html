<!-- Add HTML tags here to be included in the head. -->
<link rel="dns-prefetch" href="https://assets.gumroad.com">
<script type="module">
  const loadJS = x => new Promise(r => window.loadJS(x).addEventListener('load', r));
  let p1, p2, io1, io2, embedCreated, overlayCreated;
  document.querySelector('hy-push-state').addEventListener('load', () => {
    io1 ||= new IntersectionObserver(async (entries) => {
      if (entries.some(x => x.isIntersecting)) {
        p1 = p1 || loadJS('https://gumroad.com/js/gumroad-embed.js');
        await p1;
        !embedCreated && await new Promise(function check1(res) {
          if (typeof createGumroadEmbed !== 'undefined')  {
            embedCreated = 1;
            res(createGumroadEmbed());
          }
          else setTimeout(() => check1(res), 200);
        });
        await new Promise(function check2(res) {
          if (typeof GumroadEmbed !== 'undefined') res(GumroadEmbed.reload());
          else setTimeout(() => check2(res), 200);
        });
      }
    }, { rootMargin: '1440px' });
    io2 ||= new IntersectionObserver(async (entries) => {
      if (entries.some(x => x.isIntersecting)) {
        p2 = p2 || loadJS('https://gumroad.com/js/gumroad.js');
        await p2;
        !overlayCreated && await new Promise(function check(res) {
          if (typeof createGumroadOverlay !== 'undefined') {
            overlayCreated = 1;
            res(createGumroadOverlay());
          }
          else setTimeout(() => check(res), 200);
        });
      }
    }, { rootMargin: '300px' });
    document.querySelectorAll('.gumroad-product-embed').forEach(el => io1.observe(el));
    document.querySelectorAll('.gumroad-button').forEach(el => io2.observe(el));
  });
</script>
<!-- Custom styling for headings and sidebar -->
<style>
  /* Content headings styling */
  h1, h2, h3, h4, h5, h6,
  .page-title, .post-title, .project-title {
    color: rgb(0,51,141) !important;
  }
  
  /* Most headings use regular weight */
  h1, h3, h4, h5, h6,
  .page-title, .post-title, .project-title {
    font-weight: 400 !important;
  }
  
  /* Special styling for h2 (## headings): bold and uppercase */
  h2 {
    font-weight: 700 !important;
    text-transform: uppercase !important;
  }
  
  /* More specific sidebar selectors for Hydejack */
  #_sidebar .sidebar-sticky .sidebar-about h1 a,
  #_sidebar .sidebar-sticky nav a,
  #_sidebar .sidebar-sticky .menu a,
  #_sidebar a.sidebar-title,
  #_sidebar .sidebar-sticky .sidebar-nav-item,
  .sidebar .nav-list .menu-item {
    color: rgb(119,119,119) !important;
  }
  
  /* Add !important to all sidebar text elements */
  .sidebar * {
    color: rgb(119,119,119) !important;
  }
  
  /* Ensure active/hover states are also visible */
  #_sidebar a:hover,
  #_sidebar .sidebar-nav-item.active,
  #_sidebar .menu-item.active,
  #_sidebar a:focus {
    color: white !important;
    text-shadow: 0 0 1px white;
  }
  
  /* Additional targeting for sidebar elements */
  .sidebar-about, .sidebar-nav, .sidebar ul, .sidebar li, .sidebar a {
    color: rgb(119,119,119) !important;
  }

  /* Home page split view layout */
  @media screen and (min-width: 768px) {
    /* Only apply to the home page */
    body.home-page #_navbar {
      width: 50% !important;
      left: 50% !important;
    }
    
    body.home-page #_sidebar {
      width: 50% !important;
      left: 50% !important;
    }
    
    body.home-page .content {
      margin-left: 0 !important;
      padding-left: 0 !important;
      width: 50% !important;
    }
    
    /* Create a full-height image container on the left */
    body.home-page .content:before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 50%;
      height: 100vh;
      background-image: url('/assets/img/test.jpg');
      background-size: cover;
      background-position: center;
      z-index: -1;
    }
    
    /* Hide the actual content on the home page */
    body.home-page .content .page {
      display: none;
    }
    
    body.home-page .sidebar-sticky {
      text-align: left;
      padding-left: 2rem;
    }
  }
</style>
<!-- Additional script to apply sidebar styling after page load -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Apply sidebar styling after a slight delay to ensure sidebar is loaded
    setTimeout(function() {
      const sidebarElements = document.querySelectorAll('#_sidebar a, #_sidebar .sidebar-nav-item, .sidebar a, .sidebar-title, .sidebar-about h1');
      sidebarElements.forEach(function(element) {
        element.style.color = 'rgb(119,119,119)';
      });
    }, 500);
    
    // Check if this is the home/index page
    if (window.location.pathname === '/' || 
        window.location.pathname === '/index.html') {
      document.body.classList.add('home-page');
    }
  });
</script>