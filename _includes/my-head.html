<!-- Add HTML tags here to be included in the head. -->
<link rel="dns-prefetch" href="https://assets.gumroad.com">
<script type="module">
  const loadJS = x => new Promise(r => window.loadJS(x).addEventListener('load', r));
  let p1, p2, io1, io2, embedCreated, overlayCreated;
  document.querySelector('hy-push-state').addEventListener('load', () => {
    io1 ||= new IntersectionObserver(async (entries) => {
      if (entries.some(x => x.isIntersecting)) {
        p1 = p1 || loadJS('https://gumroad.com/js/gumroad-embed.js');
        await p1;
        !embedCreated && await new Promise(function check1(res) {
          if (typeof createGumroadEmbed !== 'undefined')  {
            embedCreated = 1;
            res(createGumroadEmbed());
          }
          else setTimeout(() => check1(res), 200);
        });
        await new Promise(function check2(res) {
          if (typeof GumroadEmbed !== 'undefined') res(GumroadEmbed.reload());
          else setTimeout(() => check2(res), 200);
        });
      }
    }, { rootMargin: '1440px' });
    io2 ||= new IntersectionObserver(async (entries) => {
      if (entries.some(x => x.isIntersecting)) {
        p2 = p2 || loadJS('https://gumroad.com/js/gumroad.js');
        await p2;
        !overlayCreated && await new Promise(function check(res) {
          if (typeof createGumroadOverlay !== 'undefined') {
            overlayCreated = 1;
            res(createGumroadOverlay());
          }
          else setTimeout(() => check(res), 200);
        });
      }
    }, { rootMargin: '300px' });
    document.querySelectorAll('.gumroad-product-embed').forEach(el => io1.observe(el));
    document.querySelectorAll('.gumroad-button').forEach(el => io2.observe(el));
  });
</script>
<!-- Custom styling for headings and sidebar -->
<style>
  /* Content headings styling */
  h1, h2, h3, h4, h5, h6,
  .page-title, .post-title, .project-title {
    color: rgb(0,51,141) !important;
  }
  
  /* Most headings use regular weight */
  h1, h3, h4, h5, h6,
  .page-title, .post-title, .project-title {
    font-weight: 400 !important;
  }
  
  /* Special styling for h2 (## headings): bold and uppercase */
  h2 {
    font-weight: 700 !important;
    text-transform: uppercase !important;
  }
  
  /* Fix sidebar styling */
  #_sidebar {
    background-color: transparent !important;
    width: auto !important;
    max-width: 320px !important;
  }
  
  .sidebar-sticky {
    background-color: rgba(243, 244, 243, 0.9) !important;
    width: auto !important;
    padding: 1.5rem !important;
    box-sizing: border-box !important;
  }
  
  /* Remove any white backgrounds from inner elements */
  .sidebar-about,
  .sidebar-nav,
  .sidebar-sticky > *,
  .sidebar-sticky::before,
  .sidebar-sticky::after {
    background-color: transparent !important;
    background: none !important;
  }
  
  /* Make sidebar title/heading use the same blue as content headings */
  .sidebar-about h1 a,
  .sidebar-title {
    color: rgb(0,51,141) !important;
    font-weight: 400 !important;
  }
  
  /* Style sidebar links with black text, no underline, regular weight */
  .sidebar a,
  .sidebar-nav-item,
  .menu-item a {
    color: black !important;
    text-decoration: none !important;
    font-weight: 400 !important;
    font-family: 'Open Sans', sans-serif !important;
  }
  
  /* Style for active/hover states */
  .sidebar a:hover,
  .sidebar-nav-item.active,
  .menu-item.active,
  .sidebar a:focus {
    color: rgb(0,51,141) !important;
    text-decoration: none !important;
  }
  
  /* Make everything squared (no rounded corners) */
  .sidebar, 
  .sidebar-bg,
  .sidebar-sticky,
  .sidebar *,
  .sidebar *::before,
  .sidebar *::after {
    border-radius: 0 !important;
  }
  
  /* Ensure all text in sidebar uses Open Sans */
  .sidebar * {
    font-family: 'Open Sans', sans-serif !important;
  }
  
  /* Add extra targeting for potential white backgrounds */
  .sidebar-overlay,
  .sidebar-overlay::before,
  .sidebar-overlay::after,
  .sidebar-bg::before,
  .sidebar-bg::after {
    background-color: transparent !important;
  }
</style>
<!-- Additional script to apply sidebar styling after page load -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Wait a bit for Hydejack to fully initialize
    setTimeout(function() {
      // Remove any white backgrounds that might be applied by inline styles
      const allSidebarElements = document.querySelectorAll('#_sidebar *, .sidebar *, .sidebar-sticky *');
      allSidebarElements.forEach(function(element) {
        if (element.style.backgroundColor === 'white' || 
            element.style.backgroundColor === '#fff' || 
            element.style.backgroundColor === '#ffffff') {
          element.style.backgroundColor = 'transparent';
        }
      });
      
      // Make sure the sticky part has the right background
      const sidebarSticky = document.querySelector('.sidebar-sticky');
      if (sidebarSticky) {
        sidebarSticky.style.backgroundColor = 'rgba(243, 244, 243, 0.9)';
        sidebarSticky.style.width = 'auto';
        sidebarSticky.style.padding = '1.5rem';
      }
      
      // Apply text styling
      const sidebarLinks = document.querySelectorAll('.sidebar a, .sidebar-nav-item');
      sidebarLinks.forEach(function(element) {
        element.style.color = 'black';
        element.style.textDecoration = 'none';
        element.style.fontWeight = '400';
      });
      
      // Apply blue color to sidebar titles
      const sidebarTitles = document.querySelectorAll('.sidebar-about h1 a, .sidebar-title');
      sidebarTitles.forEach(function(element) {
        element.style.color = 'rgb(0,51,141)';
      });
    }, 800);
  });
</script>